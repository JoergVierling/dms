{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../discovery/discovery.component\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"green-bg\": a0,\n    \"red-bg\": a1\n  };\n};\nexport class TimeComponent {\n  constructor(http) {\n    this.http = http;\n    this.currentTime = '';\n    this.isApiAvailable = false;\n    this.currentNode = '';\n  }\n  ngOnInit() {\n    this.fetchTime();\n  }\n  fetchTime() {\n    this.http.get('http://localhost:81/time').subscribe(response => {\n      this.currentTime = response.time;\n      this.currentNode = response.node;\n      this.isApiAvailable = true;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    }, error => {\n      console.error('Fehler beim Abrufen der Zeit:', error);\n      this.isApiAvailable = false;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    });\n  }\n}\nTimeComponent.ɵfac = function TimeComponent_Factory(t) {\n  return new (t || TimeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nTimeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TimeComponent,\n  selectors: [[\"app-time\"]],\n  decls: 10,\n  vars: 7,\n  consts: [[1, \"time-container\"], [3, \"ngClass\"]],\n  template: function TimeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵelement(6, \"app-discovery\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"footer\", 1)(8, \"p\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.currentTime);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"From: \", ctx.currentNode, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c0, ctx.isApiAvailable, !ctx.isApiAvailable));\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.isApiAvailable ? \"API erreichbar\" : \"API nicht erreichbar\");\n    }\n  },\n  dependencies: [i2.NgClass, i3.DiscoveryComponent],\n  styles: [\".time-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100vh;\\n}\\n\\n.green-bg[_ngcontent-%COMP%] {\\n  background-color: green;\\n}\\n\\n.red-bg[_ngcontent-%COMP%] {\\n  background-color: red;\\n}\\n\\nfooter[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  background-color: #f5f5f5;\\n  padding: 10px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGltZS90aW1lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSx1QkFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnRpbWUtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgaGVpZ2h0OiAxMDB2aDtcclxufVxyXG5cclxuLmdyZWVuLWJnIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLnJlZC1iZyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG59XHJcblxyXG5mb290ZXIge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogMDtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;AASA,OAAM,MAAOA,aAAa;EAKxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAJjB,gBAAW,GAAW,EAAE;IAC/B,mBAAc,GAAY,KAAK;IACxB,gBAAW,GAAS,EAAE;EAEU;EAEvCC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAAS;IACP,IAAI,CAACF,IAAI,CAACG,GAAG,CAAM,0BAA0B,CAAC,CAACC,SAAS,CACrDC,QAAa,IAAI;MAChB,IAAI,CAACC,WAAW,GAAGD,QAAQ,CAACE,IAAI;MAChC,IAAI,CAACC,WAAW,GAAGH,QAAQ,CAACI,IAAI;MAChC,IAAI,CAACC,cAAc,GAAG,IAAI;MAC1BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,EACAU,KAAU,IAAI;MACbC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,IAAI,CAACF,cAAc,GAAG,KAAK;MAC3BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CACF;EACH;;AA7BWJ,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT1BC,8BAA4B;MACtBA,YAAiB;MAAAA,iBAAK;MAC1BA,yBAAG;MAAAA,YAAqB;MAAAA,iBAAI;MAG9BA,2BAAK;MACHA,gCAA+B;MACjCA,iBAAM;MAGNA,iCAAiF;MAC5EA,YAAgE;MAAAA,iBAAI;;;MAVnEA,eAAiB;MAAjBA,qCAAiB;MAClBA,eAAqB;MAArBA,oDAAqB;MAQjBA,eAAuE;MAAvEA,6FAAuE;MAC3EA,eAAgE;MAAhEA,oFAAgE","names":["TimeComponent","constructor","http","ngOnInit","fetchTime","get","subscribe","response","currentTime","time","currentNode","node","isApiAvailable","setTimeout","error","console","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/home/joerg/work/uni/dms/dms/angular-time-app/src/app/time/time.component.ts","/home/joerg/work/uni/dms/dms/angular-time-app/src/app/time/time.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../enviroment/environment'; // Importieren Sie die Umgebungsvariable\n\n@Component({\n  selector: 'app-time',\n  templateUrl: './time.component.html',\n  styleUrls: ['./time.component.scss']\n})\nexport class TimeComponent implements OnInit {\n  public currentTime: string = '';\n  isApiAvailable: boolean = false;\n  public currentNode: string='';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.fetchTime();\n  }\n\n  fetchTime(): void {\n    this.http.get<any>('http://localhost:81/time').subscribe(\n      (response: any) => {\n        this.currentTime = response.time;\n        this.currentNode = response.node;\n        this.isApiAvailable = true;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      },\n      (error: any) => {\n        console.error('Fehler beim Abrufen der Zeit:', error);\n        this.isApiAvailable = false;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      }\n    );\n  }\n}","<div class=\"time-container\">\n  <h1>{{ currentTime }}</h1>\n  <p>From: {{currentNode}}</p>\n</div>\n\n<div>\n  <app-discovery></app-discovery>\n</div>\n\n\n<footer  [ngClass]=\"{ 'green-bg': isApiAvailable , 'red-bg': !isApiAvailable  }\">\n  <p>{{ isApiAvailable ? 'API erreichbar' : 'API nicht erreichbar' }}</p>\n</footer>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}