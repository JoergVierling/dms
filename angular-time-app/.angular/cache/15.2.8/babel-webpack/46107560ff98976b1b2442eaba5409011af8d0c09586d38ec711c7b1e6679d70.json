{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, Input, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nfunction NgxJsonViewerComponent_section_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 9);\n  }\n}\nfunction NgxJsonViewerComponent_section_1_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const segment_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(segment_r1.description);\n  }\n}\nfunction NgxJsonViewerComponent_section_1_section_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 11);\n    i0.ɵɵelement(1, \"ngx-json-viewer\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const segment_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"json\", segment_r1.value)(\"expanded\", ctx_r4.expanded)(\"depth\", ctx_r4.depth)(\"_currentDepth\", ctx_r4._currentDepth + 1);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"segment\", a1];\n};\nconst _c1 = function (a1, a2) {\n  return {\n    \"segment-main\": true,\n    \"expandable\": a1,\n    \"expanded\": a2\n  };\n};\nfunction NgxJsonViewerComponent_section_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 2)(1, \"section\", 3);\n    i0.ɵɵlistener(\"click\", function NgxJsonViewerComponent_section_1_Template_section_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const segment_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.toggle(segment_r1));\n    });\n    i0.ɵɵtemplate(2, NgxJsonViewerComponent_section_1_div_2_Template, 1, 0, \"div\", 4);\n    i0.ɵɵelementStart(3, \"span\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 6);\n    i0.ɵɵtext(6, \": \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, NgxJsonViewerComponent_section_1_span_7_Template, 2, 1, \"span\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, NgxJsonViewerComponent_section_1_section_8_Template, 2, 4, \"section\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const segment_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, \"segment-type-\" + segment_r1.type));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c1, ctx_r0.isExpandable(segment_r1), segment_r1.expanded));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isExpandable(segment_r1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(segment_r1.key);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !segment_r1.expanded || !ctx_r0.isExpandable(segment_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", segment_r1.expanded && ctx_r0.isExpandable(segment_r1));\n  }\n}\nlet NgxJsonViewerComponent = /*#__PURE__*/(() => {\n  class NgxJsonViewerComponent {\n    constructor() {\n      this.expanded = true;\n      this.depth = -1;\n      this._currentDepth = 0;\n      this.segments = [];\n    }\n    ngOnChanges() {\n      this.segments = [];\n      // remove cycles\n      this.json = this.decycle(this.json);\n      if (typeof this.json === 'object') {\n        Object.keys(this.json).forEach(key => {\n          this.segments.push(this.parseKeyValue(key, this.json[key]));\n        });\n      } else {\n        this.segments.push(this.parseKeyValue(`(${typeof this.json})`, this.json));\n      }\n    }\n    isExpandable(segment) {\n      return segment.type === 'object' || segment.type === 'array';\n    }\n    toggle(segment) {\n      if (this.isExpandable(segment)) {\n        segment.expanded = !segment.expanded;\n      }\n    }\n    parseKeyValue(key, value) {\n      const segment = {\n        key: key,\n        value: value,\n        type: undefined,\n        description: '' + value,\n        expanded: this.isExpanded()\n      };\n      switch (typeof segment.value) {\n        case 'number':\n          {\n            segment.type = 'number';\n            break;\n          }\n        case 'boolean':\n          {\n            segment.type = 'boolean';\n            break;\n          }\n        case 'function':\n          {\n            segment.type = 'function';\n            break;\n          }\n        case 'string':\n          {\n            segment.type = 'string';\n            segment.description = '\"' + segment.value + '\"';\n            break;\n          }\n        case 'undefined':\n          {\n            segment.type = 'undefined';\n            segment.description = 'undefined';\n            break;\n          }\n        case 'object':\n          {\n            // yea, null is object\n            if (segment.value === null) {\n              segment.type = 'null';\n              segment.description = 'null';\n            } else if (Array.isArray(segment.value)) {\n              segment.type = 'array';\n              segment.description = 'Array[' + segment.value.length + '] ' + JSON.stringify(segment.value);\n            } else if (segment.value instanceof Date) {\n              segment.type = 'date';\n            } else {\n              segment.type = 'object';\n              segment.description = 'Object ' + JSON.stringify(segment.value);\n            }\n            break;\n          }\n      }\n      return segment;\n    }\n    isExpanded() {\n      return this.expanded && !(this.depth > -1 && this._currentDepth >= this.depth);\n    }\n    // https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n    decycle(object) {\n      const objects = new WeakMap();\n      return function derez(value, path) {\n        let old_path;\n        let nu;\n        if (typeof value === 'object' && value !== null && !(value instanceof Boolean) && !(value instanceof Date) && !(value instanceof Number) && !(value instanceof RegExp) && !(value instanceof String)) {\n          old_path = objects.get(value);\n          if (old_path !== undefined) {\n            return {\n              $ref: old_path\n            };\n          }\n          objects.set(value, path);\n          if (Array.isArray(value)) {\n            nu = [];\n            value.forEach(function (element, i) {\n              nu[i] = derez(element, path + '[' + i + ']');\n            });\n          } else {\n            nu = {};\n            Object.keys(value).forEach(function (name) {\n              nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n            });\n          }\n          return nu;\n        }\n        return value;\n      }(object, '$');\n    }\n  }\n  NgxJsonViewerComponent.ɵfac = function NgxJsonViewerComponent_Factory(t) {\n    return new (t || NgxJsonViewerComponent)();\n  };\n  NgxJsonViewerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxJsonViewerComponent,\n    selectors: [[\"ngx-json-viewer\"]],\n    inputs: {\n      json: \"json\",\n      expanded: \"expanded\",\n      depth: \"depth\",\n      _currentDepth: \"_currentDepth\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"ngx-json-viewer\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [3, \"ngClass\", \"click\"], [\"class\", \"toggler\", 4, \"ngIf\"], [1, \"segment-key\"], [1, \"segment-separator\"], [\"class\", \"segment-value\", 4, \"ngIf\"], [\"class\", \"children\", 4, \"ngIf\"], [1, \"toggler\"], [1, \"segment-value\"], [1, \"children\"], [3, \"json\", \"expanded\", \"depth\", \"_currentDepth\"]],\n    template: function NgxJsonViewerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, NgxJsonViewerComponent_section_1_Template, 9, 11, \"section\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.segments);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, NgxJsonViewerComponent],\n    styles: [\"@charset \\\"UTF-8\\\";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:\\\"\\\\25ba\\\";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return NgxJsonViewerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgxJsonViewerModule = /*#__PURE__*/(() => {\n  class NgxJsonViewerModule {}\n  NgxJsonViewerModule.ɵfac = function NgxJsonViewerModule_Factory(t) {\n    return new (t || NgxJsonViewerModule)();\n  };\n  NgxJsonViewerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NgxJsonViewerModule\n  });\n  NgxJsonViewerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule]\n  });\n  return NgxJsonViewerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgxJsonViewerComponent, NgxJsonViewerModule };\n//# sourceMappingURL=ngx-json-viewer.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}