{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TimeComponent = class TimeComponent {\n  constructor(http) {\n    this.http = http;\n    this.currentTime = '';\n    this.isApiAvailable = false;\n    this.currentNode = '';\n  }\n  ngOnInit() {\n    this.fetchTime();\n  }\n  fetchTime() {\n    this.http.get('http://localhost:81/time').subscribe(response => {\n      this.currentTime = response.time;\n      this.currentNode = response.node;\n      this.isApiAvailable = true;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    }, error => {\n      console.error('Fehler beim Abrufen der Zeit:', error);\n      this.isApiAvailable = false;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    });\n  }\n};\nTimeComponent = __decorate([Component({\n  selector: 'app-time',\n  templateUrl: './time.component.html',\n  styleUrls: ['./time.component.scss']\n})], TimeComponent);\nexport { TimeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAJjB,gBAAW,GAAW,EAAE;IAC/B,mBAAc,GAAY,KAAK;IACxB,gBAAW,GAAS,EAAE;EAEU;EAEvCC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAAS;IACP,IAAI,CAACF,IAAI,CAACG,GAAG,CAAM,0BAA0B,CAAC,CAACC,SAAS,CACrDC,QAAa,IAAI;MAChB,IAAI,CAACC,WAAW,GAAGD,QAAQ,CAACE,IAAI;MAChC,IAAI,CAACC,WAAW,GAAGH,QAAQ,CAACI,IAAI;MAChC,IAAI,CAACC,cAAc,GAAG,IAAI;MAC1BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,EACAU,KAAU,IAAI;MACbC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,IAAI,CAACF,cAAc,GAAG,KAAK;MAC3BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CACF;EACH;CACD;AA9BYJ,aAAa,eALzBD,SAAS,CAAC;EACTiB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWlB,aAAa,CA8BzB;SA9BYA,aAAa","names":["Component","TimeComponent","constructor","http","ngOnInit","fetchTime","get","subscribe","response","currentTime","time","currentNode","node","isApiAvailable","setTimeout","error","console","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/joerg/work/uni/dms/dms/angular-time-app/src/app/time/time.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../enviroment/environment'; // Importieren Sie die Umgebungsvariable\n\n@Component({\n  selector: 'app-time',\n  templateUrl: './time.component.html',\n  styleUrls: ['./time.component.scss']\n})\nexport class TimeComponent implements OnInit {\n  public currentTime: string = '';\n  isApiAvailable: boolean = false;\n  public currentNode: string='';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.fetchTime();\n  }\n\n  fetchTime(): void {\n    this.http.get<any>('http://localhost:81/time').subscribe(\n      (response: any) => {\n        this.currentTime = response.time;\n        this.currentNode = response.node;\n        this.isApiAvailable = true;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      },\n      (error: any) => {\n        console.error('Fehler beim Abrufen der Zeit:', error);\n        this.isApiAvailable = false;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      }\n    );\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}