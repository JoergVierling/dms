{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DiscoveryComponent = class DiscoveryComponent {\n  constructor(http) {\n    this.http = http;\n    this.apiName = '';\n  }\n  discover() {}\n  fetchTime() {\n    this.http.get('http://localhost:81/time').subscribe(response => {\n      this.currentTime = response.time;\n      this.currentNode = response.node;\n      this.isApiAvailable = true;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    }, error => {\n      console.error('Fehler beim Abrufen der Zeit:', error);\n      this.isApiAvailable = false;\n      setTimeout(() => {\n        this.fetchTime();\n      }, 1000);\n    });\n  }\n};\nDiscoveryComponent = __decorate([Component({\n  selector: 'app-discovery',\n  templateUrl: './discovery.component.html',\n  styleUrls: ['./discovery.component.scss']\n})], DiscoveryComponent);\nexport { DiscoveryComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAE7BC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAEjB,YAAO,GAAQ,EAAE;EAFe;EAGhCC,QAAQ,IAEf;EAEAC,SAAS;IACP,IAAI,CAACF,IAAI,CAACG,GAAG,CAAM,0BAA0B,CAAC,CAACC,SAAS,CACrDC,QAAa,IAAI;MAChB,IAAI,CAACC,WAAW,GAAGD,QAAQ,CAACE,IAAI;MAChC,IAAI,CAACC,WAAW,GAAGH,QAAQ,CAACI,IAAI;MAChC,IAAI,CAACC,cAAc,GAAG,IAAI;MAC1BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,EACAU,KAAU,IAAI;MACbC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,IAAI,CAACF,cAAc,GAAG,KAAK;MAC3BC,UAAU,CAAC,MAAK;QACd,IAAI,CAACT,SAAS,EAAE;MAClB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CACF;EACH;CAGD;AA9BYJ,kBAAkB,eAL9BD,SAAS,CAAC;EACTiB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACWlB,kBAAkB,CA8B9B;SA9BYA,kBAAkB","names":["Component","DiscoveryComponent","constructor","http","discover","fetchTime","get","subscribe","response","currentTime","time","currentNode","node","isApiAvailable","setTimeout","error","console","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/joerg/work/uni/dms/dms/angular-time-app/src/app/discovery/discovery.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-discovery',\n  templateUrl: './discovery.component.html',\n  styleUrls: ['./discovery.component.scss']\n})\nexport class DiscoveryComponent {\n  \n  constructor(private http: HttpClient) {}\n\n  public apiName:string=''\n  public discover():void{\n\n  }\n\n  fetchTime(): void {\n    this.http.get<any>('http://localhost:81/time').subscribe(\n      (response: any) => {\n        this.currentTime = response.time;\n        this.currentNode = response.node;\n        this.isApiAvailable = true;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      },\n      (error: any) => {\n        console.error('Fehler beim Abrufen der Zeit:', error);\n        this.isApiAvailable = false;\n        setTimeout(() => {\n          this.fetchTime();\n        }, 1000);\n      }\n    );\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}